<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Forage Adduction d'eau</title>

  <!-- ::CSS::::::: -->
  <link rel="stylesheet" href="servicepages.css">
  <link rel="stylesheet" href="fossetancheite.css">

  <!-- ::::::cdn icon:::::::: -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

   <!-- ::::PDF::::::::: -->
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.0/jspdf.umd.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>

   <style>
    @media(max-width: 1800px){
    .table thead{
		display: none;
	}

	.table, .table tbody, .table tr, .table td{
		display: block;
		width: 100%;
	}
	.table tr{
		margin-bottom:15px;
	}
	.table td{
		text-align: right;
		padding-left: 50%;
		text-align: right;
		position: relative;
	}
	.table td::before{
		content: attr(data-label);
		position: absolute;
		left:0;
		width: 50%;
		padding-left:15px;
		font-size:15px;
		font-weight: bold;
		text-align: left;
	}
}

   </style>
</head>
<body>
  

  <!-- ::::::::FORMULAIRE::::::::::: -->
  <div class="wrapper">

    <div class="inner">

      <div class="image-holder">
        <img src="image-services/logo1.png" alt="img">
      </div>

      <form action="" >

        <h3>Devis Forage adduction d'eau </h3>

        <div class="form-group">
          <input type="text" placeholder="Votre nom" class="form-control" id="nom">
          <input type="text" placeholder="Votre prenom" class="form-control" id="prenom">
        </div>


        <div class="form-wrapper">
          <input type="number" min="1" maxlength="8" placeholder="Numéro" class="form-control" id="numero">
        </div>

        <div class="form-wrapper">
          <input type="text" min="1" placeholder="Ville/Quartier" class="form-control" id="ville" >
        </div>

        <div class="form-group">
          <select name="" id="selecttype" style="width: 47%;">
              <option value="" disabled selected>Type</option>
              <option value="Forage">Forage</option>
              <option value="Adduction">Adduction d'éau</option>
            </select>

            <!-- :::::::AFFICHE FORAGE::::::::::::: -->
          <select name="" id="selectzone" onchange="afficherSelection()" style="width: 47%; margin-left: 6%; display: none;">
            <option value="" disabled selected>Zones</option>
            <option value="Standart">Sableuse</option>
            <option value="Rocheuse">Rocheuse</option>
            <option value="Terre fin">Terre fin</option>
            <option value="Boueuse">Boueuse</option>
          </select>
      </div>

          <!-- :::::::AFFICHE FORAGE::::::::::::: -->
        <div class="form-group" >
          <!-- <input type="number" min="1" placeholder="Combien de mètre" class="form-control" id="metre" style="display: none;"> -->

          <!-- <select name="" id="selectequipe" onchange="afficherSelectionE()" style="width: 47%; display: none;">
            <option value="" disabled selected>Equipements</option>
            <option value="Equipe">Equipé</option>
            <option value="Nom Equipe">Non équipé</option>
          </select> -->
          
        </div>

        

        <!-- :::::::AFFICHE ADDUCTIOND'EAU::::::::::::: -->
         <div class="form-group" >
        <select name="" id="selectadduct" style="width: 47%; display: none;">
            <option value="" disabled selected>???ffff</option>
            <option value="Equipesq">yyyy</option>
          </select>

         <!-- <select name="" id="selectzone" style="width: 47%; margin-left: 6%;">
          <option value="" disabled selected>???</option>
          <option value="Standart">???</option>
        </select>  -->
    </div>

            <!-- :::::::Button FORAGE:::::::::::::: -->
          <a href="#Devis" id="buttonforage" class="btn" style="text-decoration: none; display: none;" >
            AJOUTER
            <span class="fas fa-chevron-right"></span>
          </a>

         <!-- ::::::Button ADDUCTION D'EAU:::::::::::::: -->
         <a href="#Devis" id="buttoneau" class="btn" style="text-decoration: none; display: none;">
          AJOUTER
          <span class="fas fa-chevron-right"></span>
        </a>
     
        
      </form>

    </div>
  </div>



  <!-- :::::::::::::AFFICHAGE DU FORMULAIRE::::::::::::: -->
  <div class="telechargerpdf">
  <section id="sectioncorps" style="display: none; margin-bottom: 4%;">

    <div class="header">
        <h3>Devis </h3>
        <!-- <img src="image-services/logo.png" alt="sss"> -->
    </div>

    <hr style="border: 1px solid #3f0dca; margin-top: 3%; margin-bottom: 3%;">

    <div class="header2">

        <div class="container1">
            <h4>Ika Plombier</h4>
            <p>Mali</p>
            <p>Halles de Bamako </p>
        </div>

        <div class="container2">
            <h4>Envoyé à</h4>
            <p class="affichenom">?</p>
            <p class="afficheprenom"></p>
        </div>

        <div class="container3">
            <h4 >Ville/Quartier</h4>
            <p class="afficheville">?</p>
        </div>

        <div class="container3">
          <h4>Numéro</h4>
          <p class="affichenum">?</p>
      </div>

    </div>

    <!-- :::Tableau::::::::::::: -->
    <table class="table">

              <!-- :::::::::FORAGE ENTETE::::::::: -->
        <thead >
            <tr >
             <th>Zone</th>
             <th>Mètre</th>
             <th>Equipement</th>
             <th>Montant</th>
            </tr>
        </thead>


        <!-- :::::::::FORAGE::::::::: -->
        <tbody id="tableauforage" style="display: none;">
              <tr>
                   <td data-label="Zone"  >?</td>
                   <td data-label="Mètre"  >100 m</td>
                   <td data-label="Equipement" >Non Equipé</td>
                   <td data-label="Montant"  >?</td>
              </tr>
        </tbody>

        <!-- ::::::::ADDUCTION::::::: -->
        <tbody id="tableauadduction" style="display: none;">
          <tr>
                   <td data-label="Installation" id="equipetableau" >Complète</td>
                   <td data-label="Montant" class="montantadduct" id="equipetableau" ></td>

          </tr>

    </tbody>
      </table>


      <hr style="border: 1px solid #3f0dca; margin-top: 10%; margin-bottom: 2%;">

      <div class="condition">
        <h5>Conditions et paiement</h5>
        <div class="modalite">
            <div class="tranche">Le payement est dû en 2 tranches</div>
            <div class="num">

                <p id="conditforage" style="display: none;">
                  Si la profondeur dépasse 100 m vous allez payer 10 000 fcfa par mètre.
                </p>
                <p id="prixtuyaux" style="display: none;">
                  Le prix du tuyaux (PVC) est 30 000 fcfa les 3 mètres.
                </p>

                <p>Numéro : (+223) 74 24 00 74</p>
                
            </div>
        </div>
      </div>

</section>
</div>

<!-- :::::::::::BUTTON TELECHARGEMENT:::::::::::::: -->
<button type="button" id="telecharger" style="display: none;" >Télécharger PDF</button>





<!-- ::::::::::::::::::::SCRIPT:::::::::::::::::: -->
<script>

  // ::::::FONCTION QUI AFFICHE TOUT LE CONTENU S'IL Y'A UN EVENNEMENT DANS 1 DES INPUTS::::::::
  function afficherContenu() {
  var sectioncorps = document.getElementById('sectioncorps');
  var telecharger = document.getElementById('telecharger');

  // Événement pour les éléments d'entrée
  var inputs = document.querySelectorAll('input');
  for (var i = 0; i < inputs.length; i++) {
    inputs[i].addEventListener('input', function() {
      sectioncorps.style.display = 'block';
      telecharger.style.display = 'block';
    });
  }
}
afficherContenu();



// ::::::::::::::AFFICHER NOM DEVIS SELECTIONNER:::::::::::::
function afficherDevis() {
  var selecttype = document.getElementById('selecttype');
  var header = document.querySelector('.header');
  var devisText = document.createElement('h3');

  // Ajoute une image à l'élément header
  var image = document.createElement('img');
  image.src = 'image-services/logo.png';
  header.appendChild(image);

  selecttype.addEventListener('change', function() {
    var selectedOption = selecttype.value;

    if (selectedOption === 'Forage') {
      devisText.textContent = 'Devis Forage';
    } else if (selectedOption === 'Adduction') {
      devisText.textContent = 'Devis Adduction Eau';
    } else {
      devisText.textContent = 'Devis ?';
    }

    // Supprime les anciens éléments s'ils existent dans le header
    while (header.firstChild) {
      header.removeChild(header.firstChild);
    }

    // Ajoute le nouveau texte dans le header
    header.appendChild(devisText);
   // Ajoute l'image à l'élément header
        header.appendChild(image);
  });
}
// Appel de la fonction pour activer le comportement
afficherDevis();



// :::::::DANS LA FORM AFFICHER LES CONTENUS EN FONCTIONDE LA SELECT OPTION {[FORRAGE/ADDUCTION]} ::::::::::::
function afficherContenuSelect() {
  var selectType = document.getElementById('selecttype');
  var selectZone = document.getElementById('selectzone');
  // var inputMetre = document.getElementById('metre');
  // var selectEquipe = document.getElementById('selectequipe');
  var selectAdduct = document.getElementById('selectadduct');
  var conditforage = document.getElementById('conditforage');
  var prixtuyaux = document.getElementById('prixtuyaux');
  var buttonforage = document.getElementById('buttonforage');
  var buttoneau = document.getElementById('buttoneau');

  selectType.addEventListener('change', function() {
    if (selectType.value === 'Forage') {
      selectZone.style.display = 'block';
      // inputMetre.style.display = 'block';
      // selectEquipe.style.display = 'block';
      selectAdduct.style.display = 'none';
      conditforage.style.display = 'block';
      prixtuyaux.style.display = 'block';
      buttonforage.style.display = 'block';
      buttoneau.style.display = 'none';

    } else if (selectType.value === 'Adduction') {
      selectZone.style.display = 'none';
      // inputMetre.style.display = 'none';
      // selectEquipe.style.display = 'none';
      conditforage.style.display = 'none';
      prixtuyaux.style.display = 'none';
      selectAdduct.style.display = 'block';
      buttonforage.style.display = 'none';
      buttoneau.style.display = 'block';
    } else {
      selectZone.style.display = 'none';
      conditforage.style.display = 'none';
      prixtuyaux.style.display = 'none';
      // inputMetre.style.display = 'none';
      // selectEquipe.style.display = 'none';
      selectAdduct.style.display = 'none';
      buttonforage.style.display = 'none';
      buttoneau.style.display = 'none';
    }
  });
}
afficherContenuSelect();



// :::::::DANS LE TABLEAU AFFICHER LES CONTENUS EN FONCTIONDE LA SELECT OPTION {[FORRAGE/ADDUCTION]} ::::::::::::
function afficherContenuSelectTable() {
  var selectType = document.getElementById('selecttype');
  var tableauforage = document.getElementById('tableauforage');
  var tableauadduction = document.getElementById('tableauadduction');

  selectType.addEventListener('change', function() {
    if (selectType.value === 'Forage') {
      tableauforage.style.display = 'block';
      tableauadduction.style.display = 'none';
    } else if (selectType.value === 'Adduction') {
      tableauforage.style.display = 'none';
      tableauadduction.style.display = 'block';
    } else {
      tableauforage.style.display = 'none';
      tableauadduction.style.display = 'none';
    }
  });
}
afficherContenuSelectTable();




// :::::: FONCTION QUI RECUPERE AUTOMATIQUEMENT NOM SAISI:::::::::::::
function afficherNom() {
  var nomInput = document.getElementById('nom');
  var afficheNom = document.querySelector('.affichenom');

  nomInput.addEventListener('input', function() {
    var nom = nomInput.value;
    afficheNom.textContent = nom;
  });
}
afficherNom();



// :::::: FONCTION QUI RECUPERE AUTOMATIQUEMENT PRENOM SAISI:::::::::::::
function afficherPrenom() {
  var prenomInput = document.getElementById('prenom');
  var affichePrenom = document.querySelector('.afficheprenom');

  prenomInput.addEventListener('input', function() {
    var prenom = prenomInput.value;
    affichePrenom.textContent = prenom;
  });
}
afficherPrenom();



// :::::: FONCTION QUI RECUPERE AUTOMATIQUEMENT VILLE SAISI:::::::::::::
function afficherVille() {
  var villeInput = document.getElementById('ville');
  var afficheVille = document.querySelector('.afficheville');

  // Événement pour l'élément de saisie
  villeInput.addEventListener('input', function() {
    afficheVille.innerHTML = '<p>' + villeInput.value + '</p>';
  });
}
afficherVille();



// :::::: FONCTION QUI RECUPERE AUTOMATIQUEMENT NUMERO SAISI:::::::::::::
function afficherNumero() {
  var numeroInput = document.getElementById('numero');
  var afficheNumero = document.querySelector('.affichenum');

  // Événement pour récupérer la saisie
  numeroInput.addEventListener('input', function() {
    var numero = numeroInput.value;
    afficheNumero.textContent = numero;
  });
}
afficherNumero();



// ::::::RECUPERE AUTOMATIQUEMENT ZONE SELECT:::::::::::::
function afficherSelection() {
  var selectZone = document.getElementById('selectzone');
  var tableauforage = document.getElementById('tableauforage');
  var zoneCell = tableauforage.querySelector('td[data-label="Zone"]');

  var selectedZone = selectZone.value;
  zoneCell.textContent = selectedZone;
}



// ::::::RECUPERE AUTOMATIQUEMENT EQUIPEMENT SELECT:::::::::::::
// function afficherSelectionE() {
//   var selectequipe = document.getElementById('selectequipe');
//   var selectedOption = selectequipe.options[selectequipe.selectedIndex].text;
//   var equipeValue = document.querySelector('td[data-label="Equipement"]');
//   equipeValue.textContent = selectedOption;
// }


// :::::::::::::::AFFICHER LE MONTANT SI ON CLIQUE SUR BUTTON id="buttonforage"::::::
function afficherMontantForage() {
  var selectZone = document.getElementById('selectzone');
  var montantCell = document.querySelector('#tableauforage td[data-label="Montant"]');
  
  selectZone.addEventListener('change', function() {
    if (selectZone.value === 'Standart' || selectZone.value === 'Rocheuse' || selectZone.value === 'Terre fin') {
      montantCell.textContent = '1 000 000 FCFA';
    } else if (selectZone.value === 'Boueuse') {
      montantCell.textContent = '1 500 000 FCFA';
    } else {
      montantCell.textContent = '?';
    }
  });
}
afficherMontantForage();


// :::::::::::::::::
function afficherMontant() {
  var selectType = document.getElementById('selecttype');
  var tableauAdduction = document.getElementById('tableauadduction');
  var montantAdduct = tableauAdduction.getElementsByClassName('montantadduct')[0];

  selectType.addEventListener('change', function() {
    if (selectType.value === 'Adduction') {
      montantAdduct.textContent = '1 500 000 /hectar';
    } else {
      montantAdduct.textContent = '';
    }
  });
}
afficherMontant();









// :::::::::::PDF TELECHARGEMENT::::::::::::::::::
// Transformation en image
window.html2canvas = html2canvas;
window.jsPDF = window.jspdf.jsPDF;

function makePDF() {
  html2canvas(document.querySelector("#capture"), {
    allowTaint: true,
    useCORS: true,
    scale: 1
  }).then(canvas => {
    var img = canvas.toDataURL("image/png");

    var doc = new jsPDF();
    doc.setFont('Arial');
    doc.save("forageadduct.pdf");
  });
}

function downloadPDF() {
  var element = document.querySelector(".telechargerpdf");
  html2canvas(element, {
    scale: 2,
    scrollX: 0,
    scrollY: 0,
    windowWidth: document.documentElement.offsetWidth,
    windowHeight: document.documentElement.offsetHeight,
    useCORS: true
  }).then(function (canvas) {
    var imgData = canvas.toDataURL("image/png", 1.0);
    var pdf = new jsPDF("p", "mm", "a4", true);
    var width = pdf.internal.pageSize.getWidth();
    var height = pdf.internal.pageSize.getHeight();

    pdf.addImage(imgData, "PNG", 0, 0, width, height);
    pdf.save("forageadduct.pdf");
  });
}
document.getElementById("telecharger").addEventListener("click", function () {
  downloadPDF();
});


</script>


 
</body>
</html>